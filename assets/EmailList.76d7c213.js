import{_ as M,r as $,i as y,j as g,o as n,c as a,g as l,n as f,a as s,k as x,t as r,l as w,m as C,h as u,F as k,q as p,b as h,s as E}from"./entry.51e084a1.js";import{u as v,_ as R,a as S}from"./trash-01.df416405.js";const b={class:"email-container"},L={key:0},B=["checked"],K={class:"email__title"},U={__name:"Email",props:{email:Object},setup(d){const t=v(),_=$(null);function i(o){t.toggleSelected(o),o.isSelected=!o.isSelected;const e=_.value;e&&(e.checked=o.isSelected)}y(()=>{document.addEventListener("keyup",m)}),g(()=>{document.removeEventListener("keyup",m)});const m=o=>{o.key==="r"&&t.markRead()};return(o,e)=>(n(),a("div",b,[l(t).isLoading?(n(),a("div",L,"Loading....")):(n(),a("li",{class:f([{"email--read":d.email.isRead},"email"]),key:d.email.id,onClick:e[2]||(e[2]=c=>i(d.email))},[s("input",{ref:"checkbox",checked:d.email.isSelected,class:"email__checkbox",type:"checkbox",onClick:e[0]||(e[0]=x(()=>{},["stop"])),onChange:e[1]||(e[1]=c=>i(d.email))},null,40,B),s("p",K,r(d.email.title),1)],2))]))}},N=M(U,[["__scopeId","data-v-6f797e1c"]]),V=""+new URL("x-close.745db3b3.svg",import.meta.url).href;const j={class:"details-container"},F={class:"details"},q={class:"modal-actions"},z=s("img",{src:V,alt:""},null,-1),A=s("p",{class:"modal-actions__action-txt"},"Close (Esc)",-1),D=[z,A],I={class:"modal-actions__read-and-archived"},O=s("img",{src:R,alt:""},null,-1),G=s("img",{src:S,alt:""},null,-1),H={key:0},J={class:"details-container__title"},P={class:"details-container__content"},Q={__name:"EmailModal",setup(d){let t=v();const _=w(()=>t.selectedEmails.length>0?t.selectedEmails[t.selectedEmails.length-1]:null);function i(){t.showEmailModal=!t.showEmailModal}y(()=>{document.addEventListener("keyup",m)}),g(()=>{document.removeEventListener("keyup",m)});const m=o=>{o.key==="Escape"&&i()};return(o,e)=>(n(),a("div",{class:f(["modal-overlay",{"modal-overlay--hidden":!l(t).showEmailModal}]),onClick:e[4]||(e[4]=c=>i())},[s("div",{onClick:e[3]||(e[3]=x(()=>{},["stop"])),class:"modal"},[s("div",j,[s("div",F,[s("div",q,[s("div",{onKeydown:e[0]||(e[0]=C((...c)=>o.log&&o.log(...c),["esc"])),onClick:i,class:"modal-actions__close"},D,32),s("div",I,[O,s("p",{onClick:e[1]||(e[1]=c=>l(t).markRead()),class:"modal-actions__action-txt"}," Mark as Read (r) "),G,s("p",{class:"modal-actions__action-txt",onClick:e[2]||(e[2]=(...c)=>l(t).archiveEmail&&l(t).archiveEmail(...c))},"Archived (a)")])])]),l(_)?(n(),a("div",H,[s("h1",J,r(l(_).title),1),s("p",P,r(l(_).content),1)])):u("",!0)])])],2))}},T=Q,W={key:0},X={key:0},Y={__name:"EmailList",props:["emails"],setup(d){const t=v();return t.getEmails(),(_,i)=>{const m=N,o=T;return n(),a("div",null,[(n(!0),a(k,null,p(d.emails,e=>(n(),E(m,{key:e.id,email:e,isRead:e.isRead,onClick:i[0]||(i[0]=c=>l(t).showEmailModal=!l(t).showEmailModal)},null,8,["email","isRead"]))),128)),l(t).showEmailModal?(n(),a("div",W,[h(o)])):u("",!0),s("div",null,[(n(!0),a(k,null,p(l(t).archivedEmails,e=>(n(),E(m,{email:e,isRead:e.isRead,onClick:i[1]||(i[1]=c=>l(t).showEmailModal=!l(t).showEmailModal)},null,8,["email","isRead"]))),256)),l(t).showEmailModal?(n(),a("div",X,[h(o)])):u("",!0)])])}}},te=Y;export{te as _};
